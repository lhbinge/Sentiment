g <- g + xlab("")
g <- g + theme(axis.text.x=element_text(angle=90,hjust=1,vjust=0.5))
g <- g + theme(legend.title=element_blank())
g <- g + scale_x_date(labels = date_format("%Y"),breaks = date_breaks("year"))
g <- g + theme(legend.position="bottom")
g
ref[,c("GFCF.Non.residential")]
indicator_plot <- cbind(indicators[,c("Date","nonres.Q3A")],ref[,c("GFCF.Non.residential")])
indicator_plot[,2:3] <- scale(indicator_plot[,2:3])
colnames(indicator_plot) <- c("Date","non_res.Q3A","GFCF.Non-residential")
indicator_plot <- melt(indicator_plot, id="Date")  # convert to long format
g <- ggplot(data=indicator_plot,aes(x=Date, y=value, group=variable, colour=variable))
g <- g + geom_line()
g <- g + ylab("Indicator")
g <- g + xlab("")
g <- g + theme(axis.text.x=element_text(angle=90,hjust=1,vjust=0.5))
g <- g + theme(legend.title=element_blank())
g <- g + scale_x_date(labels = date_format("%Y"),breaks = date_breaks("year"))
g <- g + theme(legend.position="bottom")
g
indicator_plot <- cbind(indicators[,c("Date","total.Q3A")],ref[,c("GFCF.Civil_Construction")])
indicator_plot[,2:3] <- scale(indicator_plot[,2:3])
colnames(indicator_plot) <- c("Date","non_res.Q3A","GFCF.Non-residential")
indicator_plot <- melt(indicator_plot, id="Date")  # convert to long format
g <- ggplot(data=indicator_plot,aes(x=Date, y=value, group=variable, colour=variable))
g <- g + geom_line()
g <- g + ylab("Indicator")
g <- g + xlab("")
g <- g + theme(axis.text.x=element_text(angle=90,hjust=1,vjust=0.5))
g <- g + theme(legend.title=element_blank())
g <- g + scale_x_date(labels = date_format("%Y"),breaks = date_breaks("year"))
g <- g + theme(legend.position="bottom")
g
View(BER.B)
levels(BER.B$sector)
colnames(ref)
indicator_plot <- cbind(indicators[,c("Date","total.Q3A")],ref[,c("GFCF.Res_Non.res","GFCF.Total")])
indicator_plot[,2:4] <- scale(indicator_plot[,2:4])
colnames(indicator_plot) <- c("Date","total.Q3A","GFCF.Res & Non.res","GFCF.Total")
indicator_plot <- melt(indicator_plot, id="Date")  # convert to long format
g <- ggplot(data=indicator_plot,aes(x=Date, y=value, group=variable, colour=variable))
g <- g + geom_line()
g <- g + ylab("Indicator")
g <- g + xlab("")
g <- g + theme(axis.text.x=element_text(angle=90,hjust=1,vjust=0.5))
g <- g + theme(legend.title=element_blank())
g <- g + scale_x_date(labels = date_format("%Y"),breaks = date_breaks("year"))
g <- g + theme(legend.position="bottom")
g
source("corstarsl")
source("corstarsl.R")
corstarsl(cbind(indicators[,c("Date","total.Q3A")],ref[,c("GFCF.Res_Non.res","GFCF.Total")]))
indicator_plot <- cbind(indicators[,c("Date","total.Q3A")],ref[,c("GFCF.Res_Non.res","GFCF.Total")])
corstarsl(indicator_plot)
indicator_plot[,2:4] <- na.approx(indicator_plot[,2:4])
corstarsl(indicator_plot)
View(indicator_plot)
x <- indicator_plot
x <- as.matrix(x)
R <- rcorr(x)$r
p <- rcorr(x)$P
indicator_plot <- cbind(indicators[,c("Date","total.Q3A")],ref[,c("GFCF.Res_Non.res","GFCF.Total")])
corstarsl(indicator_plot[,-1])
indicator_plot <- cbind(indicators[,c("Date","res.Q3A")],ref[,c("GFCF.Residential")])
corstarsl(indicator_plot[,-1])
indicator_plot[,2:3] <- scale(indicator_plot[,2:3])
colnames(indicator_plot) <- c("Date","res.Q3A","GFCF.Residential")
indicator_plot <- melt(indicator_plot, id="Date")  # convert to long format
g <- ggplot(data=indicator_plot,aes(x=Date, y=value, group=variable, colour=variable))
g <- g + geom_line()
g <- g + ylab("Indicator")
g <- g + xlab("")
g <- g + theme(axis.text.x=element_text(angle=90,hjust=1,vjust=0.5))
g <- g + theme(legend.title=element_blank())
g <- g + scale_x_date(labels = date_format("%Y"),breaks = date_breaks("year"))
g <- g + theme(legend.position="bottom")
g
indicator_plot <- cbind(indicators[,c("Date","nonres.Q3A")],ref[,c("GFCF.Non.residential")])
corstarsl(indicator_plot[,-1])
indicator_plot <- cbind(indicators[,c("Date","res.Q3A")],ref[,c("GFCF.Residential","Residential.building")])
corstarsl(indicator_plot[,-1])
indicator_plot[,2:3] <- scale(indicator_plot[,2:3])
colnames(indicator_plot) <- c("Date","res.Q3A","GFCF.Residential")
indicator_plot <- melt(indicator_plot, id="Date")  # convert to long format
g <- ggplot(data=indicator_plot,aes(x=Date, y=value, group=variable, colour=variable))
g <- g + geom_line()
g <- g + ylab("Indicator")
g <- g + xlab("")
g <- g + theme(axis.text.x=element_text(angle=90,hjust=1,vjust=0.5))
g <- g + theme(legend.title=element_blank())
g <- g + scale_x_date(labels = date_format("%Y"),breaks = date_breaks("year"))
g <- g + theme(legend.position="bottom")
g
indicator_plot <- cbind(indicators[,c("Date","res.Q3A")],ref[,c("GFCF.Residential","Residential.building")])
corstarsl(indicator_plot[,-1])
indicator_plot[,2:4] <- scale(indicator_plot[,2:4])
colnames(indicator_plot) <- c("Date","res.Q3A","GFCF.Residential")
indicator_plot <- melt(indicator_plot, id="Date")  # convert to long format
g <- ggplot(data=indicator_plot,aes(x=Date, y=value, group=variable, colour=variable))
g <- g + geom_line()
g <- g + ylab("Indicator")
g <- g + xlab("")
g <- g + theme(axis.text.x=element_text(angle=90,hjust=1,vjust=0.5))
g <- g + theme(legend.title=element_blank())
g <- g + scale_x_date(labels = date_format("%Y"),breaks = date_breaks("year"))
g <- g + theme(legend.position="bottom")
g
indicator_plot <- cbind(indicators[,c("Date","res.Q3A")],ref[,c("GFCF.Residential","Residential.building")])
corstarsl(indicator_plot[,-1])
indicator_plot[,2:4] <- scale(indicator_plot[,2:4])
colnames(indicator_plot) <- c("Date","res.Q3A","GFCF.Residential","Residential.building")
indicator_plot <- melt(indicator_plot, id="Date")  # convert to long format
g <- ggplot(data=indicator_plot,aes(x=Date, y=value, group=variable, colour=variable))
g <- g + geom_line()
g <- g + ylab("Indicator")
g <- g + xlab("")
g <- g + theme(axis.text.x=element_text(angle=90,hjust=1,vjust=0.5))
g <- g + theme(legend.title=element_blank())
g <- g + scale_x_date(labels = date_format("%Y"),breaks = date_breaks("year"))
g <- g + theme(legend.position="bottom")
g
colnames(ref)
indicator_plot <- cbind(indicators[,c("Date","nonres.Q3A")],ref[,c("GFCF.Non.residential","Non.residential.building")])
corstarsl(indicator_plot[,-1])
indicator_plot[,2:4] <- scale(indicator_plot[,2:4])
colnames(indicator_plot) <- c("Date","non_res.Q3A","GFCF.Non-residential","Non.residential.building")
indicator_plot <- melt(indicator_plot, id="Date")  # convert to long format
g <- ggplot(data=indicator_plot,aes(x=Date, y=value, group=variable, colour=variable))
g <- g + geom_line()
g <- g + ylab("Indicator")
g <- g + xlab("")
g <- g + theme(axis.text.x=element_text(angle=90,hjust=1,vjust=0.5))
g <- g + theme(legend.title=element_blank())
g <- g + scale_x_date(labels = date_format("%Y"),breaks = date_breaks("year"))
g <- g + theme(legend.position="bottom")
g
indicator_plot <- cbind(indicators[,c("Date","total.Q3A")],ref[,c("GFCF.Res_Non.res","GFCF.Total","Total.building")])
corstarsl(indicator_plot[,-1])
indicator_plot[,2:5] <- scale(indicator_plot[,2:5])
colnames(indicator_plot) <- c("Date","total.Q3A","GFCF.Res & Non.res","GFCF.Total","Total.building")
indicator_plot <- melt(indicator_plot, id="Date")  # convert to long format
g <- ggplot(data=indicator_plot,aes(x=Date, y=value, group=variable, colour=variable))
g <- g + geom_line()
g <- g + ylab("Indicator")
g <- g + xlab("")
g <- g + theme(axis.text.x=element_text(angle=90,hjust=1,vjust=0.5))
g <- g + theme(legend.title=element_blank())
g <- g + scale_x_date(labels = date_format("%Y"),breaks = date_breaks("year"))
g <- g + theme(legend.position="bottom")
g
indicator_plot <- cbind(indicators[,c("Date","res.Q3A")],ref[,c("GFCF.Residential","Residential.building","Res..excl..h.c.a.","Res..excl..h.c.","Res..excl..a.")])
corstarsl(indicator_plot[,-1])
indicator_plot[,2:7] <- scale(indicator_plot[,2:7])
colnames(indicator_plot) <- c("Date","res.Q3A","GFCF.Residential","Residential.building","Res.excl.h.c.a.","Res.excl.h.c.","Res.excl.a.")
indicator_plot <- melt(indicator_plot, id="Date")  # convert to long format
g <- ggplot(data=indicator_plot,aes(x=Date, y=value, group=variable, colour=variable))
g <- g + geom_line()
g <- g + ylab("Indicator")
g <- g + xlab("")
g <- g + theme(axis.text.x=element_text(angle=90,hjust=1,vjust=0.5))
g <- g + theme(legend.title=element_blank())
g <- g + scale_x_date(labels = date_format("%Y"),breaks = date_breaks("year"))
g <- g + theme(legend.position="bottom")
g
indicator_plot <- melt(indicator_plot[,c(1:4)], id="Date")  # convert to long format
g <- ggplot(data=indicator_plot,aes(x=Date, y=value, group=variable, colour=variable))
g <- g + geom_line()
g <- g + ylab("Indicator")
g <- g + xlab("")
g <- g + theme(axis.text.x=element_text(angle=90,hjust=1,vjust=0.5))
g <- g + theme(legend.title=element_blank())
g <- g + scale_x_date(labels = date_format("%Y"),breaks = date_breaks("year"))
g <- g + theme(legend.position="bottom")
g
indicator_plot <- cbind(indicators[,c("Date","res.Q3A")],ref[,c("GFCF.Residential","Residential.building","Res..excl..h.c.a.","Res..excl..h.c.","Res..excl..a.")])
corstarsl(indicator_plot[,-1])
indicator_plot[,2:7] <- scale(indicator_plot[,2:7])
colnames(indicator_plot) <- c("Date","res.Q3A","GFCF.Residential","Residential.building","Res.excl.h.c.a.","Res.excl.h.c.","Res.excl.a.")
indicator_plot <- melt(indicator_plot[,c(1:4)], id="Date")  # convert to long format
g <- ggplot(data=indicator_plot,aes(x=Date, y=value, group=variable, colour=variable))
g <- g + geom_line()
g <- g + ylab("Indicator")
g <- g + xlab("")
g <- g + theme(axis.text.x=element_text(angle=90,hjust=1,vjust=0.5))
g <- g + theme(legend.title=element_blank())
g <- g + scale_x_date(labels = date_format("%Y"),breaks = date_breaks("year"))
g <- g + theme(legend.position="bottom")
g
indicator_plot <- melt(indicator_plot[,c(1,2,5,6,7)], id="Date")  # convert to long format
g <- ggplot(data=indicator_plot,aes(x=Date, y=value, group=variable, colour=variable))
g <- g + geom_line()
g <- g + ylab("Indicator")
g <- g + xlab("")
g <- g + theme(axis.text.x=element_text(angle=90,hjust=1,vjust=0.5))
g <- g + theme(legend.title=element_blank())
g <- g + scale_x_date(labels = date_format("%Y"),breaks = date_breaks("year"))
g <- g + theme(legend.position="bottom")
g
indicator_plot <- cbind(indicators[,c("Date","res.Q3A")],ref[,c("GFCF.Residential","Residential.building","Res..excl..h.c.a.","Res..excl..h.c.","Res..excl..a.")])
corstarsl(indicator_plot[,-1])
indicator_plot[,2:7] <- scale(indicator_plot[,2:7])
colnames(indicator_plot) <- c("Date","res.Q3A","GFCF.Residential","Residential.building","Res.excl.h.c.a.","Res.excl.h.c.","Res.excl.a.")
plot <- melt(indicator_plot[,c(1:4)], id="Date")  # convert to long format
g <- ggplot(data=plot,aes(x=Date, y=value, group=variable, colour=variable))
g <- g + geom_line()
g <- g + ylab("Indicator")
g <- g + xlab("")
g <- g + theme(axis.text.x=element_text(angle=90,hjust=1,vjust=0.5))
g <- g + theme(legend.title=element_blank())
g <- g + scale_x_date(labels = date_format("%Y"),breaks = date_breaks("year"))
g <- g + theme(legend.position="bottom")
g
plot <- melt(indicator_plot[,c(1,2,5,6,7)], id="Date")  # convert to long format
g <- ggplot(data=plot,aes(x=Date, y=value, group=variable, colour=variable))
g <- g + geom_line()
g <- g + ylab("Indicator")
g <- g + xlab("")
g <- g + theme(axis.text.x=element_text(angle=90,hjust=1,vjust=0.5))
g <- g + theme(legend.title=element_blank())
g <- g + scale_x_date(labels = date_format("%Y"),breaks = date_breaks("year"))
g <- g + theme(legend.position="bottom")
g
colnames(ref)
plot <- melt(indicator_plot[,c(1,2,5,6,7)], id="Date")  # convert to long format
g <- ggplot(data=plot,aes(x=Date, y=value, group=variable, colour=variable))
g <- g + geom_line()
g <- g + ylab("Indicator")
g <- g + xlab("")
g <- g + theme(axis.text.x=element_text(angle=90,hjust=1,vjust=0.5))
g <- g + theme(legend.title=element_blank())
g <- g + scale_x_date(labels = date_format("%Y"),breaks = date_breaks("year"))
g <- g + theme(legend.position="bottom")
g
indicator_plot <- cbind(indicators[,c("Date","nonres.Q3A")],ref[,c("GFCF.Non.residential","Non.residential.building","Non.res..excl..h.c.a.","Non.res..excl..h.c.","Non.res..excl..a.")])
indicator_plot[,2:7] <- scale(indicator_plot[,2:7])
colnames(indicator_plot) <- c("Date","non_res.Q3A","GFCF.Non-residential","Non.residential.building","Non.res.excl.h.c.a.","Non.res.excl.h.c.","Non.res.excl.a.")
corstarsl(indicator_plot[,-1])
plot <- melt(indicator_plot[,c(1:4)], id="Date")  # convert to long format
g <- ggplot(data=plot,aes(x=Date, y=value, group=variable, colour=variable))
g <- g + geom_line()
g <- g + ylab("Indicator")
g <- g + xlab("")
g <- g + theme(axis.text.x=element_text(angle=90,hjust=1,vjust=0.5))
g <- g + theme(legend.title=element_blank())
g <- g + scale_x_date(labels = date_format("%Y"),breaks = date_breaks("year"))
g <- g + theme(legend.position="bottom")
g
plot <- melt(indicator_plot[,c(1,2,5,6,7)], id="Date")  # convert to long format
g <- ggplot(data=plot,aes(x=Date, y=value, group=variable, colour=variable))
g <- g + geom_line()
g <- g + ylab("Indicator")
g <- g + xlab("")
g <- g + theme(axis.text.x=element_text(angle=90,hjust=1,vjust=0.5))
g <- g + theme(legend.title=element_blank())
g <- g + scale_x_date(labels = date_format("%Y"),breaks = date_breaks("year"))
g <- g + theme(legend.position="bottom")
g
colnames(ref)
indicator_plot <- cbind(indicators[,c("Date","total.Q3A")],ref[,c("GFCF.Res_Non.res","GFCF.Total","Total.building","Total..excl..h.c.a.","Total..excl..h.c.","Total..incl..all.")])
indicator_plot[,2:8] <- scale(indicator_plot[,2:8])
colnames(indicator_plot) <- c("Date","total.Q3A","GFCF.Res & Non.res","GFCF.Total","Total.building","Total.excl.h.c.a.","Total.excl.h.c.","Total..incl.all")
corstarsl(indicator_plot[,-1])
plot <- melt(indicator_plot[,c(1:5)], id="Date")  # convert to long format
g <- ggplot(data=plot,aes(x=Date, y=value, group=variable, colour=variable))
g <- g + geom_line()
g <- g + ylab("Indicator")
g <- g + xlab("")
g <- g + theme(axis.text.x=element_text(angle=90,hjust=1,vjust=0.5))
g <- g + theme(legend.title=element_blank())
g <- g + scale_x_date(labels = date_format("%Y"),breaks = date_breaks("year"))
g <- g + theme(legend.position="bottom")
g
plot <- melt(indicator_plot[,c(1,2,6,7,8)], id="Date")  # convert to long format
g <- ggplot(data=plot,aes(x=Date, y=value, group=variable, colour=variable))
g <- g + geom_line()
g <- g + ylab("Indicator")
g <- g + xlab("")
g <- g + theme(axis.text.x=element_text(angle=90,hjust=1,vjust=0.5))
g <- g + theme(legend.title=element_blank())
g <- g + scale_x_date(labels = date_format("%Y"),breaks = date_breaks("year"))
g <- g + theme(legend.position="bottom")
g
indicator_plot <- cbind(indicators[,c("Date","total.Q3P")],ref[,c("GFCF.Res_Non.res","GFCF.Total","Total.building","Total..excl..h.c.a.","Total..excl..h.c.","Total..incl..all.")])
indicator_plot[,2:8] <- scale(indicator_plot[,2:8])
colnames(indicator_plot) <- c("Date","total.Q3A","GFCF.Res & Non.res","GFCF.Total","Total.building","Total.excl.h.c.a.","Total.excl.h.c.","Total..incl.all")
corstarsl(indicator_plot[,-1])
plot <- melt(indicator_plot[,c(1:5)], id="Date")  # convert to long format
g <- ggplot(data=plot,aes(x=Date, y=value, group=variable, colour=variable))
g <- g + geom_line()
g <- g + ylab("Indicator")
g <- g + xlab("")
g <- g + theme(axis.text.x=element_text(angle=90,hjust=1,vjust=0.5))
g <- g + theme(legend.title=element_blank())
g <- g + scale_x_date(labels = date_format("%Y"),breaks = date_breaks("year"))
g <- g + theme(legend.position="bottom")
g
plot <- melt(indicator_plot[,c(1,2,6,7,8)], id="Date")  # convert to long format
g <- ggplot(data=plot,aes(x=Date, y=value, group=variable, colour=variable))
g <- g + geom_line()
g <- g + ylab("Indicator")
g <- g + xlab("")
g <- g + theme(axis.text.x=element_text(angle=90,hjust=1,vjust=0.5))
g <- g + theme(legend.title=element_blank())
g <- g + scale_x_date(labels = date_format("%Y"),breaks = date_breaks("year"))
g <- g + theme(legend.position="bottom")
g
indicator_plot <- cbind(indicators[,c("Date","total.Q2A")],ref[,c("GFCF.Res_Non.res","GFCF.Total","Total.building","Total..excl..h.c.a.","Total..excl..h.c.","Total..incl..all.")])
indicator_plot[,2:8] <- scale(indicator_plot[,2:8])
colnames(indicator_plot) <- c("Date","total.Q3A","GFCF.Res & Non.res","GFCF.Total","Total.building","Total.excl.h.c.a.","Total.excl.h.c.","Total..incl.all")
corstarsl(indicator_plot[,-1])
plot <- melt(indicator_plot[,c(1:5)], id="Date")  # convert to long format
g <- ggplot(data=plot,aes(x=Date, y=value, group=variable, colour=variable))
g <- g + geom_line()
g <- g + ylab("Indicator")
g <- g + xlab("")
g <- g + theme(axis.text.x=element_text(angle=90,hjust=1,vjust=0.5))
g <- g + theme(legend.title=element_blank())
g <- g + scale_x_date(labels = date_format("%Y"),breaks = date_breaks("year"))
g <- g + theme(legend.position="bottom")
g
plot <- melt(indicator_plot[,c(1,2,6,7,8)], id="Date")  # convert to long format
g <- ggplot(data=plot,aes(x=Date, y=value, group=variable, colour=variable))
g <- g + geom_line()
g <- g + ylab("Indicator")
g <- g + xlab("")
g <- g + theme(axis.text.x=element_text(angle=90,hjust=1,vjust=0.5))
g <- g + theme(legend.title=element_blank())
g <- g + scale_x_date(labels = date_format("%Y"),breaks = date_breaks("year"))
g <- g + theme(legend.position="bottom")
g
indicator_plot <- cbind(indicators[,c("Date","total.Q1")],ref[,c("GFCF.Res_Non.res","GFCF.Total","Total.building","Total..excl..h.c.a.","Total..excl..h.c.","Total..incl..all.")])
indicator_plot[,2:8] <- scale(indicator_plot[,2:8])
colnames(indicator_plot) <- c("Date","total.Q3A","GFCF.Res & Non.res","GFCF.Total","Total.building","Total.excl.h.c.a.","Total.excl.h.c.","Total..incl.all")
corstarsl(indicator_plot[,-1])
plot <- melt(indicator_plot[,c(1:5)], id="Date")  # convert to long format
g <- ggplot(data=plot,aes(x=Date, y=value, group=variable, colour=variable))
g <- g + geom_line()
g <- g + ylab("Indicator")
g <- g + xlab("")
g <- g + theme(axis.text.x=element_text(angle=90,hjust=1,vjust=0.5))
g <- g + theme(legend.title=element_blank())
g <- g + scale_x_date(labels = date_format("%Y"),breaks = date_breaks("year"))
g <- g + theme(legend.position="bottom")
g
plot <- melt(indicator_plot[,c(1,2,6,7,8)], id="Date")  # convert to long format
g <- ggplot(data=plot,aes(x=Date, y=value, group=variable, colour=variable))
g <- g + geom_line()
g <- g + ylab("Indicator")
g <- g + xlab("")
g <- g + theme(axis.text.x=element_text(angle=90,hjust=1,vjust=0.5))
g <- g + theme(legend.title=element_blank())
g <- g + scale_x_date(labels = date_format("%Y"),breaks = date_breaks("year"))
g <- g + theme(legend.position="bottom")
g
View(indicators)
colnames(ref)
indicator_plot <- cbind(indicators[,c("Date","wc.Q3A","kzn.Q3A","gp.Q3A")],ref[,c("Building_WC","Building_KN","Building_GP")])
indicator_plot[,2:7] <- scale(indicator_plot[,2:7])
colnames(indicator_plot) <- c("Date","wc.Q3A","kzn.Q3A","gp.Q3A","Building_WC","Building_KN","Building_GP")
corstarsl(indicator_plot[,-1])
plot <- melt(indicator_plot, id="Date")  # convert to long format
g <- ggplot(data=plot,aes(x=Date, y=value, group=variable, colour=variable))
g <- g + geom_line()
g <- g + ylab("Indicator")
g <- g + xlab("")
g <- g + theme(axis.text.x=element_text(angle=90,hjust=1,vjust=0.5))
g <- g + theme(legend.title=element_blank())
g <- g + scale_x_date(labels = date_format("%Y"),breaks = date_breaks("year"))
g <- g + theme(legend.position="bottom")
g
indicator_plot <- indicators[,c("Date","res.Q1","nonres.Q1","total.Q1")]
indicator_plot <- melt(indicator_plot, id="Date")  # convert to long format
g <- ggplot(data=indicator_plot,aes(x=Date, y=value, group=variable, colour=variable))
g <- g + geom_line()
g <- g + ylab("Indicator")
g <- g + xlab("")
g <- g + theme(axis.text.x=element_text(angle=90,hjust=1,vjust=0.5))
g <- g + theme(legend.title=element_blank())
g <- g + scale_x_date(labels = date_format("%Y"),breaks = date_breaks("year"))
g <- g + theme(legend.position="bottom")
g
indicator_plot <- indicators[,c("Date","res.Q1","nonres.Q1","total.Q1")]
indicator_plot <- melt(indicator_plot, id="Date")  # convert to long format
g <- ggplot(data=indicator_plot,aes(x=Date, y=value, group=variable, colour=variable))
g <- g + geom_line()
g <- g + ylab("Indicator")
g <- g + xlab("")
g <- g + theme(axis.text.x=element_text(angle=90,hjust=1,vjust=0.5))
g <- g + theme(legend.title=element_blank())
g <- g + scale_x_date(labels = date_format("%Y"),breaks = date_breaks("year"))
g <- g + theme(legend.position="bottom")
g
indicator_plot <- indicators[,c("Date","res.Q1","nonres.Q1","total.Q1")]
indicator_plot <- melt(indicator_plot, id="Date")  # convert to long format
g <- ggplot(data=indicator_plot,aes(x=Date, y=value, group=variable, colour=variable))
g <- g + geom_line()
g <- g + ylab("Indicator") + xlab("")
g <- g + theme(axis.text.x=element_text(angle=90,hjust=1,vjust=0.5))
g <- g + theme(legend.title=element_blank())
g <- g + scale_x_date(labels = date_format("%Y"),breaks = date_breaks("year"))
g <- g + theme(legend.position="bottom")
g
indicator_plot <- cbind(indicators[,c("Date","con_tot.Q1")],pub[,c("con_totalQ1")])
indicator_plot[,4] <- na.approx(indicator_plot[,2])
indicator_plot[is.na(indicator_plot[,2]),5] <- indicator_plot[is.na(indicator_plot[,2]),3]
View(indicator_plot)
indicator_plot <- cbind(indicators[,c("Date","con_tot.Q1")],pub[,c("con_totalQ1")])
indicator_plot[,4] <- na.approx(indicator_plot[,2])
indicator_plot[,5] <- indicator_plot[,2]
indicator_plot[is.na(indicator_plot[,2]),5] <- indicator_plot[is.na(indicator_plot[,2]),3]
indicator_plot <- cbind(indicators[,c("Date","con_tot.Q1")],pub[,c("con_totalQ1")])
indicator_plot[,4] <- na.approx(indicator_plot[,2])
indicator_plot[is.na(indicator_plot[,2]),2] <- indicator_plot[is.na(indicator_plot[,2]),3]
indicator_plot <- cbind(indicators[,c("Date","con_tot.Q1")],pub[,c("con_totalQ1")])
indicator_plot[,4] <- na.approx(indicator_plot[,2])
indicator_plot[is.na(indicator_plot[,2]),2] <- indicator_plot[is.na(indicator_plot[,2]),3]
colnames(indicator_plot) <- c("Date","Microdata: Substituted","Published","Microdata: Interpolated")
indicator_plot <- melt(indicator_plot, id="Date")  # convert to long format
g <- ggplot(data=indicator_plot,aes(x=Date, y=value, group=variable, colour=variable))
g <- g + geom_line()
g <- g + ylab("Indicator")
g <- g + xlab("")
g <- g + theme(axis.text.x=element_text(angle=90,hjust=1,vjust=0.5))
g <- g + theme(legend.title=element_blank())
g <- g + scale_x_date(labels = date_format("%Y"),breaks = date_breaks("year"))
g <- g + theme(legend.position="bottom")
g
indicator_plot <- cbind(indicators[,c("Date","con_tot.Q1")],pub[,c("con_totalQ1")])
indicator_plot[,4] <- na.approx(indicator_plot[,2])
indicator_plot[is.na(indicator_plot[,2]),2] <- indicator_plot[is.na(indicator_plot[,2]),3]
indicator_plot <- indicator_plot[,-3]
colnames(indicator_plot) <- c("Date","Microdata: Substituted","Microdata: Interpolated")
indicator_plot <- melt(indicator_plot, id="Date")  # convert to long format
g <- ggplot(data=indicator_plot,aes(x=Date, y=value, group=variable, colour=variable))
g <- g + geom_line()
g <- g + ylab("Indicator")
g <- g + xlab("")
g <- g + theme(axis.text.x=element_text(angle=90,hjust=1,vjust=0.5))
g <- g + theme(legend.title=element_blank())
g <- g + scale_x_date(labels = date_format("%Y"),breaks = date_breaks("year"))
g <- g + theme(legend.position="bottom")
g
indicator_plot <- cbind(indicators[,c("Date","con_tot.Q2A")],pub[,c("con_totalQ2A")])
indicator_plot[,4] <- na.approx(indicator_plot[,2])
indicator_plot[is.na(indicator_plot[,2]),2] <- indicator_plot[is.na(indicator_plot[,2]),3]
indicator_plot <- indicator_plot[,-3]
colnames(indicator_plot) <- c("Date","Microdata: Substituted","Microdata: Interpolated")
indicator_plot <- melt(indicator_plot, id="Date")  # convert to long format
g <- ggplot(data=indicator_plot,aes(x=Date, y=value, group=variable, colour=variable))
g <- g + geom_line()
g <- g + ylab("Indicator")
g <- g + xlab("")
g <- g + theme(axis.text.x=element_text(angle=90,hjust=1,vjust=0.5))
g <- g + theme(legend.title=element_blank())
g <- g + scale_x_date(labels = date_format("%Y"),breaks = date_breaks("year"))
g <- g + theme(legend.position="bottom")
g
View(pub)
indicator_plot <- cbind(indicators[,c("Date","subcon_tot.Q2A")],pub[,c("subcon_totalQ2A")])
indicator_plot[,4] <- na.approx(indicator_plot[,2])
indicator_plot[is.na(indicator_plot[,2]),2] <- indicator_plot[is.na(indicator_plot[,2]),3]
indicator_plot <- indicator_plot[,-3]
colnames(indicator_plot) <- c("Date","Microdata: Substituted","Microdata: Interpolated")
indicator_plot <- melt(indicator_plot, id="Date")  # convert to long format
g <- ggplot(data=indicator_plot,aes(x=Date, y=value, group=variable, colour=variable))
g <- g + geom_line()
g <- g + ylab("Indicator")
g <- g + xlab("")
g <- g + theme(axis.text.x=element_text(angle=90,hjust=1,vjust=0.5))
g <- g + theme(legend.title=element_blank())
g <- g + scale_x_date(labels = date_format("%Y"),breaks = date_breaks("year"))
g <- g + theme(legend.position="bottom")
g
indicator_plot <- cbind(indicators[,c("Date","res.Q3A")],ref[,c("GFCF.Residential","Residential.building","Res..excl..h.c.a.","Res..excl..h.c.","Res..excl..a.")])
indicator_plot[,2:7] <- scale(indicator_plot[,2:7])
colnames(indicator_plot) <- c("Date","res.Q3A","GFCF.Residential","Residential.building","Res.excl.h.c.a.","Res.excl.h.c.","Res.excl.a.")
corstarsl(indicator_plot[,-1])
source("corstarsl.R")
xt <- xtable(corstarsl(indicator_plot[,-1]))
print(xt, "latex",comment=FALSE, caption.placement = getOption("xtable.caption.placement", "top"),
scalebox = 0.8,sanitize.text.function = function(x) x)
indicator_plot <- cbind(indicators[,c("Date","total.Q3A")],ref[,c("GFCF.Res_Non.res","GFCF.Total","Total.building","Total..excl..h.c.a.","Total..excl..h.c.","Total..incl..all.")])
indicator_plot[,2:8] <- scale(indicator_plot[,2:8])
colnames(indicator_plot) <- c("Date","total.Q3A","GFCF.Res & Non.res","GFCF.Total","Total.building","Total.excl.h.c.a.","Total.excl.h.c.","Total..incl.all")
plot <- melt(indicator_plot[,c(1:5)], id="Date")  # convert to long format
g1 <- ggplot(data=plot,aes(x=Date, y=value, group=variable, colour=variable))
g1 <- g1 + geom_line()
g1 <- g1 + ylab("Indicator")
g1 <- g1 + xlab("")
g1 <- g1 + theme(axis.text.x=element_text(angle=90,hjust=1,vjust=0.5))
g1 <- g1 + theme(legend.title=element_blank())
g1 <- g1 + scale_x_date(labels = date_format("%Y"),breaks = date_breaks("year"))
g1 <- g1 + theme(legend.position="bottom")
plot <- melt(indicator_plot[,c(1,2,6,7,8)], id="Date")  # convert to long format
g2 <- ggplot(data=plot,aes(x=Date, y=value, group=variable, colour=variable))
g2 <- g2 + geom_line()
g2 <- g2 + ylab("Indicator")
g2 <- g2 + xlab("")
g2 <- g2 + theme(axis.text.x=element_text(angle=90,hjust=1,vjust=0.5))
g2 <- g2 + theme(legend.title=element_blank())
g2 <- g2 + scale_x_date(labels = date_format("%Y"),breaks = date_breaks("year"))
g2 <- g2 + theme(legend.position="bottom")
library(gridExtra)
grid.arrange(g1, g2, ncol=2, nrow =1)
source("corstarsl.R")
xt <- xtable(corstarsl(indicator_plot[,-1]))
print(xt, "latex",comment=FALSE,scalebox = 0.6)
indicator_plot <- cbind(indicators[,c("Date","wc.Q3A","kzn.Q3A","gp.Q3A")],ref[,c("Building_WC","Building_KN","Building_GP")])
indicator_plot[,2:7] <- scale(indicator_plot[,2:7])
colnames(indicator_plot) <- c("Date","wc.Q3A","kzn.Q3A","gp.Q3A","Building_WC","Building_KN","Building_GP")
corstarsl(indicator_plot[,-1])
View(indicator_plot)
